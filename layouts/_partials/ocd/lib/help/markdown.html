{{- $data := .context -}}
{{- $markdownData := $data.markdown -}}
{{- with $markdownData }}
  <div class="ocd ocd ocd-card ocd-card-help ocd-shadow">
    <header class="ocd-card-header ocd-card-header-help">
      <h2 class="ocd-title">
        {{ i18n "OcdScHelpMarkdown" . | default "Markdown Help" }}
      </h2>
      <svg aria-hidden="true" focusable="false" width="24" height="24">
        <use href="#ocd-icon-support"></use>
      </svg>
    </header>
    <div class="ocd-card-content ocd-card-content-help">
      {{- /* Range the shortcodes defined in the  `data/help/markdown.[lang].toml` file */}}
      {{ range sort $markdownData "order" "asc"
      }}
        <div class="ocd-help-entry">
          <h3>{{ .title  }}</h3>
          <p class="ocd-help-description">{{ .description | markdownify }}</p>

          <dl class="ocd-help-details">
            <dt>{{ i18n "OcdHelpSyntax" | default "Syntax" }}</dt>
            <dd>
              <!-- prettier-ignore-->
              <code class="ocd-mono">{{ .syntax | safeHTML }}</code>
            </dd>

            {{ with .parameters }}
              <dt>{{ i18n "OcdHelpParameters" | default "Parameters" }}</dt>
              {{ range . }}
                <dd>
                  <strong>{{ .name }}</strong>
                  {{- if .optional }}
                    (<em>{{ i18n "OcdHelpOptional" | default "optional" }}</em>)
                  {{ else }}
                    (<strong>{{ i18n "OcdHelpRequired" | default "required" }}</strong>)
                  {{ end -}}:
                  {{ .description | markdownify }}
                  {{- with .values }}
                    <br />
                    <em>{{ i18n "OcdHelpValues" | default "Values" }}</em>:
                    {{- /* Range through parameters values */}}
                    <span class="ocd-mono">
                      {{- range $index, $value := . -}}
                        {{- /* Delimit with comma */}}
                        {{- if gt $index 0 }}, {{ end -}}
                        <code>{{ $value | markdownify }}</code>
                      {{- end }}</span
                    >.
                  {{ end }}
                </dd>
              {{ end }}
            {{ end }}
            {{- with  .example }}
              <dt>{{ i18n "OcdHelpExample" | default "Example" }}</dt>
              <dd>
                <!-- prettier-ignore-->
                <code class="ocd-mono">{{ . | safeHTML }}</code>
              </dd>
            {{- end }}
             {{- with  .docLink }}
            <strong>{{ i18n "OcdHelpDocumentation" | default "Documentation" }}</strong>:
            <a href="{{ .docLink  }}"
              >{{ .title }}</a
            >{{- end }}
          </dl>
        </div>
      {{- end }}
    </div>
    <footer class="ocd-card-footer ocd-card-footer-help">
      <div class="ocd-help-meta">
        <p>
          <strong>{{ i18n "OcdHelpAbout" | default "About" }}:</strong> {{ $data.footer_desc | markdownify }}
          </p>
          <div class="ocd-help-footnote">
            <p>
          <em>{{ i18n "OcdHelpExample" | default "Example" }}:</em>
          <!-- prettier-ignore -->
          <code class="ocd-mono ocd-mono-help">&lbrace;&lbrace;&lt; help TYPE="markdown" &gt;&rbrace;&rbrace;</code>
          </p>
          <a class="ocd" href="{{ $data.footer_URL }}">{{ i18n "OcdHelpScDocs" | default "Shortcodes Documentation" }}</a>
        </div>
      </div>
    </footer>
  </div>
{{- else }}
  {{- /* Invalid data checker */}}
  <div class="ocd ocd ocd-card ocd-card-error ocd-shadow">
    <p>
      <strong>Partial Error: </strong> The 'shortcodes' data passed to
      <code class="ocd-mono">ocd/components/help/shortcodes.html</code> was
      invalid or empty.
    </p>
  </div>
{{ end }}
